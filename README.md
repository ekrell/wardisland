
# wardisland
### COSC 4328 Programming Assignment 1
#### Evan Krell
#### Time: ~15 hours

### Part 1: Ward Island using 2D OpenGL primitives

![alt text](wardisland_a.png "Ward Island, generated using 2D OpenGL primitives.")

The image is a map of TAMUCC with a selection of buildings. The goal was to give the image a fabric-like appearance, as if the map was a sewn onto another fabric piece. The buildings are each an assemblage of triangles, constructed in their own coordinate space. Each is scaled and translated for placement on the island. The vertices were set manually, by first drawing each out on graph paper. 

The island is generated by drawing strips made of numerous tiny triangles. Given a pair of start and stop coordinates sharing a y-coordinate, a sequence of very small triangles is generated across the screen to form a horizontal strip. The island is drawn one strip at a time, top to bottom. Each strip's start and stop is determined by an array of _nudges_ that shifts both ends indepedently. Negative nudges are used to increase the strip length, such as the small peninsula at the bottom tip. Each triangle vertex color is randomly selected from an array of terrain-like greens. 

Along the shore two sandy regions are visible. This was produced by replicating the island shape, randomly assigning sandy colors, and setting the opacity with a gradient. A point is selected where the distance from that point determines the opacity. This was done twice to make two sandy regions. The background is also generated using the strips, but with all nudges set to 0 to form a rectangle. 
           
### Part 2: Ward Island with weather visualization

![alt text](wardisland_b.png "Ward Island, generated using 2D OpenGL primitives.")

While creating the island, a record is made of each strip's leftmost and rightmost vertices. These form an outline of the island. By connecting these vertices in a line, it (slightly) looks as if the island _fabric_ is stiched onto the water below. This produces the basic >100-vertex line required. 

The wind visual is based on the interaction of a vector field and a number of _agents_ that enter the scene with an initial velocity. The 5500 agents are initialy spaced along the left edge and have directions that vary in the range -pi/2 to pi/2 and magnitudes that oscillate from 0 to 1 using cosine. The agents are modified by 5x5 grid of hard-coded vector field values. This grid is then interpolated (upscaled) to 100x100. Converting the direction and magnitude to u, v vector
components was done before interpolation to reduce the number of executions of sine and cosine. As the agents move, their velocity is modified by
the vector field to achieve the curves shown. The trajectories of each agent are recorded and the points connected into lines. The use of 5500 agents created a guaze-like effect to enhance the fabric theme. 

### Sources

[Python & OpenGL for Scientific Visualization](https://www.labri.fr/perso/nrougier/python-opengl): Learned basic OpenGL in Python. 
           
### Install & Run 

**Install OpenGL**

    sudo apt-get install libglu1-mesa-dev freeglut3-dev mesa-common-dev
    sudo apt-get install libglfw3-dev

**Install Python libraries**

    pip install numpy
    pip install cython
    pip install pyopengl
    pip install triangle
    pip install glumpy
    pip install scipy

**Execute**

    python3 draw-wardisland.py

